<!DOCTYPE html>
<html lang="en">
	<head>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/bootstrap.min.css" rel="stylesheet">
		<link type="text/css" rel="stylesheet" href="custom.css"/>
        <script src="js/Respond.min.js"></script>
        <script type="text/javascript" src="d3/d3.js"></script>
		<title>Neuroimaging visualization</title>
	</head>
	<body>
    	<div class="container-fluid">
        <!-- row 1 HEADER LOGO AND PAGE TITLE SUBTITLE -->
            <header class="row">
                <div class="col-lg-12" class="intro">
                    <a href="About2.html"><img src = "images/Kitsune_LogoAB3-03.SVG" class="img-responsive"/></a>
                    <h1>Visualizing Human Neuroimaging Data</h1>
                    <h4><strong>Exploring transient networks in the brain using novel neuroimaging techniques</strong></h4>
                </div>               
            </header>
        </div> <!-- Close container -->
            
        <!-- row 2 LANDING PAGE: PROJECT, DATA, ANALYSIS AND VISUALIZATIONS BRIEF INTRO INFO -->      
        <div class="container" style="margin-left:10em">
      <!-- Row of columns -->
            <div class="row" style="background-color:#D0DADD;" id="jumbo">
                <div class="col-sm-3" style="margin-left: 4em">
                    <h3>Project Goals</h3>
                    <p>1: Can we detect transient networks in resting state data?</p>
                    <p>"Resting state" referfs ro MRI scans where the participant is asked to lie still and awake, and think of nothing in particular.</p>
                    <p>2: Which data-collection method is best? See "Data" for more information on the data collection methods</p>
                    <p><a class="btn btn-default" href="#" role="button">View Results &raquo;</a></p>
                </div>
                <div class="col-sm-3" style="margin-left: 6em">
                    <h3>Data</h3>
                    <p>Multiband EPI is a new method used to collect whole brain volumes in a significantly shorter time frame, and/or finer spatial detail.</p>
                    <p>Here, we collected one high-temporal resolution (1 second, voxel size 2.2<sup>3</sup>mm squared) and one high-spatial resolution (2 seconds,voxel size 1.5<sup>3</sup>mm squared) dataset from each participant.</p>
                    <br>
                    <p><a class="btn btn-default" href="#" role="button">View Details &raquo;</a></p>
                </div>
                <div class="col-sm-3" style="margin-left: 6em">
                    <h3>Analysis and Visualizations</h3>
                    <p>Several types of analysis was performed on this data, including network analysis focussing on the default mode, executive control, and salience networks; cluster analysis, and temporal ordering</p>
                    <p>Visualization approaches include network graphs, matrices/heat maps, and time courses (line graphs).</p>
                    <p><a class="btn btn-default" href="#" role="button">View Results &raquo;</a></p>
                </div>
            </div>
        </div><!-- Close Container-->

        <!-- row 3 ANALYSIS AND VISUALIZATIONS -->  
        <div class="container" style="margin-left:10em">
            <header class="row">
                <h2 >Analysis and Visualizations</h2>                
            </header>
        </div> <!-- close Header containing -->

        <div class="container" style="margin-left:3em; margin-right:-3em">
            <div class="row">
                <div class="col-md-5">
                    <h3 style="text-align:center; color: #B8ABA1;">Individual data</h3>
                    
                    <button class="btn btn-info btn-lg" onclick="$('#mean-z').toggle();"><strong>Mean Network Z-Scores</strong></button>
                        <div id="mean-z" style="display: none">
                        <!-- enter d3 bit here -->
                            <style type="text/css">
                          
                              .axis path,
                              .axis line {
                                fill: none;
                                stroke: #969696;
                                shape-rendering: crispEdges;
                              }

                              .axis text {
                                font-family: sans-serif;
                                font-size: 14px;
                                fill: #969696;
                              }
                               
                              path {
                                stroke-width: 2px;
                                stroke: "darkgrey";
                                stroke-dasharray:"3, 3";
                              }

                              .legend{
                                stroke: "grey";
                              }
                            </style>

                            <script type="text/javascript">

                          var EPI1 = [
                                  {"key": "DMN", "values": 0.3612327342549958, "sd":0.15721708382087163},
                                  {"key":"SN", "values": 0.36594731104141204, "sd":0.1438314594956751},
                                  {"key":"ECN", "values":0.4103003289319152, "sd":0.13817466701640893},
                                ]

                          var EPI2 = [
                                    {"key": "DMN", "values":0.43707597131902304, "sd":0.10188232006323178}, 
                                    {"key": "SN", "values":0.4854244668719318, "sd":0.1210977798623367}, 
                                    {"key": "ECN", "values":0.4711811105133274, "sd": 0.1537981757653103}
                                  ]                       
                              
                            //var customColor = [#354E7F, #139E9E, #82142F] colors from my UI design in AI...convert to decimal color code that d3.js uses in color categories
                            //var customColor = [ 3493503, 39321, 10027059];  //maybe look at original d3.js code again...

                            //var margin = {top: 30, right:20, bottom: 30, left: 300},                            
                            w = 550 //- margin.left - margin.right,
                            h = 250 //- margin.top - margin.bottom;
                            
                             var xScale  = d3.scale.ordinal().domain(d3.range(3)).rangeRoundBands([0, w], 0.75);  //from book
                             var yScale = d3.scale.linear().domain([1, 0]).rangeRound([0, 200]); //from book considering my data

                             var color = d3.scale.category10();
                             //var color = customColor;
                             //color.domain(data.map(function(d) {return d.key;}));

                             var xAxis = d3.svg.axis().scale(xScale).orient("bottom").ticks(3);
                             var yAxis = d3.svg.axis().scale(yScale).orient("left").ticks(10);


                            var svg = d3.select("#mean-z").append("svg").attr("width", w).attr("height", h);

                            //var EPI1 = d3.json("js/EPI1_108.json", function(error, data) {


                            var circles = svg.selectAll("circle").data(EPI1).enter().append("circle");
                            
                            circles.attr("cx", function(d,i) {return xScale(i);})  //from book how to reference ordinal scale
                                    .attr("cy", function(d) {return yScale(d.values)}) //.attr("cy", function(d) {return (d.values);})
                                    .attr("r", "9")
                                    .attr("fill",function(d) {return color(d.key);})
                                    .append("title").text(function(d) {return d.values;});

                            var lines = svg.selectAll("line").data(EPI1).enter().append("line");

                             lines.attr("x1", function(d,i) {return xScale(i);})  //x-position of mean
                                   .attr("y1", function(d) {return yScale(d.values+(d.sd/2));})  //y-position of mean
                                   .attr("x2", function(d,i) {return xScale(i);}) //x-position of mean same as x1 because vertical line
                                   .attr("y2", function(d) {return yScale(d.values-(d.sd/2));})   //y position 
                                   .attr("stroke-width", 2)
                                   .attr("stroke", function(d) {return color(d.key);});

                            // });    //end of var EPI1 = d3.json(loadData.json)



                            //var EPI2 = d3.json("js/EPI2_108.json", function(error, data) {

                            var rect = svg.selectAll("rect").data(EPI2).enter().append("rect");

                            rect.attr("x", function(d,i) {return xScale(i)+40;})
                                  .attr("y", function(d) {return yScale(d.values)-8})
                                  .attr("width", "16")
                                  .attr("height", "16")
                                  .attr("fill", function(d) {return color(d.key);});

                            var linesb = svg.selectAll("rects").data(EPI2).enter().append("line");

                            linesb.attr("x1", function(d,i) {return xScale(i)+48;})  //x-position of mean +40px to shift it rightward like the rects (squares)
                                 .attr("y1", function(d) {return yScale(d.values+(d.sd/2));})  //y-position of mean
                                 .attr("x2", function(d,i) {return xScale(i)+48;}) //x-position of mean same as x1 because vertical line
                                 .attr("y2", function(d) {return yScale(d.values-(d.sd/2));})   //y position 
                                 .attr("stroke-width", 2)
                                 .attr("stroke", function(d) {return color(d.key);});

                              //});   /end of var EPI2 = d3.json(loadData.json)

                            var xPadding = 30;
                            var yPadding = 50; 
                            svg.append("g").attr("class", "axis").attr("transform", "translate(50," + (h - xPadding) + ")").call(xAxis);
                            svg.append("g").attr("class", "axis").attr("transform", "translate(" + yPadding + ",20)").call(yAxis);

                            </script>




                            <div class="row" style="background-color:#fff" id="legend">
                            </div>
                        </div>

                    <button class="btn btn-info btn-lg" onclick="$('#network').toggle();"><strong>Network Graphs</strong></button>
                        <div id="network" style="display: none; float:left">
                            <!-- enter d3 bit here -->
                        </div>

                    <button class="btn btn-info btn-lg" onclick="$('#corrmat').toggle();"><strong>Correlation Matrices</strong></button>
                        <div id="corrmat" style="display: none">
                            <!-- enter d3 bit here -->
                        </div>

                    <button class="btn btn-info btn-lg" onclick="$('#tc').toggle();"><strong>Time Courses</strong></button>
                        <div id="tc" style="display: none">
                            <!-- enter d3 bit here -->
                        </div>

                </div> <!-- end of Individual Data -->

                <!-- Group Data: -->

                <div class="col-md-5" style="margin-left: 3em"> 
                    <h3 style="text-align:center; color: #B8ABA1;">Group data</h3> 

                    <button class="btn btn-info btn-lg" onclick="$('#mean-zGr').toggle();"><strong>Mean Network Z-Scores</strong></button>
                        <div id="mean-zGr" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>

                    <button class="btn btn-info btn-lg" onclick="$('#networkGr').toggle();"><strong>Network Graphs</strong></button>
                        <div id="networkGr" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>                  

                    <button class="btn btn-info btn-lg" onclick="$('#corrmatGr').toggle();"><strong>Correlation Matrices</strong></button>
                        <div id="corrmatGr" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>

                    <!-- Cluster Analysis -->
                <div class="col-md-5" style="margin-left: 3em"> 
                    <h4 id="clust-head"><strong>Cluster Analysis:</h4>


                    <button class="btn btn-info btn-lg" onclick="$('#networkClust').toggle();"><strong>Network Graphs</strong></button>
                        <div id="networkClust" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>

                    <button class="btn btn-info btn-lg" onclick="$('#corrmatClust').toggle();"><strong>Correlation Matrices</strong></button>
                        <div id="corrmatClust" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>   

                    <button class="btn btn-info btn-lg" onclick="$('#tempOrd').toggle();"><strong>Temporal Ordering</strong></button>
                        <div id="tempOrd" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>

                    <button class="btn btn-info btn-lg" onclick="$('#tempDur').toggle();"><strong>Temporal Duration</strong></button>
                        <div id="tempDur" style="margin-left: -38em; margin-right:0em; display: none">
                        <!-- enter d3 bit here -->
                        </div>   
                </div>                        
                  


                </div>
            </div>
        </div>   <!-- Close Container -->

		<!-- row # FOOTER --> 
            <hr>           
            <footer class="row">
                    <p><small>Maryland Institute and College of Art (MICA): Information Visualization MPS</small></p>
            </footer>
   	</div><!-- Close container -->
 
        <!-- Javascript -->
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
   
</body>
</html>	